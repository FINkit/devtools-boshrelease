#!/usr/bin/env bash

# job template binding variables

# job name & index of this VM within cluster
# e.g. JOB_NAME=redis, JOB_INDEX=0
export NAME='<%= name %>'
export JOB_INDEX=<%= index %>
# full job name, like redis/0 or webapp/3
export JOB_FULL="$NAME/$JOB_INDEX"

# configure custom properites for job
export JAVA_HOME=/var/vcap/packages/oraclejdk
export JAVA=${JAVA_HOME}/bin/java
export JAVA_OPTS=""
export JAVA_TOOL_OPTIONS=""

export GERRIT_VERSION=2.14.3
export GERRIT=/var/vcap/jobs/gerrit/packages/gerrit/gerrit/gerrit-${GERRIT_VERSION}.war
export GERRIT_STORE="/var/vcap/store/gerrit"
export GERRIT_PIDFILE="${GERRIT_STORE}/logs/gerrit.pid"
export GERRIT_INIT_ARGS="init --batch -d ${GERRIT_STORE} --install-plugin=commit-message-length-validator --install-plugin=download-commands --install-plugin=replication --install-plugin=reviewnotes --install-plugin=singleusergroup --no-auto-start"
export GERRIT_INDEX_ARGS="reindex --site-path ${GERRIT_STORE}"
export GERRIT_RUN_ARGS="daemon --console-log --site-path ${GERRIT_STORE}"

export MEMORY_SETTINGS=""
